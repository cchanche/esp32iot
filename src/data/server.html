<!DOCTYPE html>
<html>
  <head>
    <title>ESP Web Server</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="icon" href="data:," />
    <style>
      html {
        font-family: Arial;
        display: inline-block;
        text-align: center;
      }
      h2 {
        font-size: 3rem;
      }
      p {
        font-size: 3rem;
      }
      body {
        max-width: 600px;
        margin: 0px auto;
        padding-bottom: 25px;
      }
    </style>
  </head>
  <body>
    <h2>ESP Web Server</h2>
    <h4>Send Mail</h4>
    <img src="http://irt.enseeiht.fr/beylot/photo/photo.jpg" />
    <div id="container">
      <form id="signup">
        <h1>Send an Email</h1>
        <small></small>
        <input type="text" placeholder="Email Address" />
        <small></small>
        <input type="text" placeholder="Object" />
        <small></small>
        <input type="text" placeholder="Content" />
        <input type="submit" value="Send" />
      </form>
    </div>
    ;
    <script>
      var xhr = new XMLHttpRequest();
      const form = document.getElementById("signup");
      form.addEventListener("submit", (event) => {
        // check required fields
        email = event.target[0].value;
        object = event.target[1].value;
        content = event.target[2].value;
        console.log(email, object, content);
        xhr.open(
          "GET",
          "/update?email=" +
            email +
            "&object=" +
            object +
            "&content=" +
            content,
          true
        );
        xhr.send();
        event.preventDefault();
      });
    </script>
  </body>
</html>
